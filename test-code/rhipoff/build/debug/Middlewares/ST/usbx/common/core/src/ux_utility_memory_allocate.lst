ARM GAS  C:\Users\sapph\AppData\Local\Temp\ccbElAji.s 			page 1


   1              		.cpu cortex-m33
   2              		.arch armv8-m.main
   3              		.fpu fpv4-sp-d16
   4              		.arch_extension dsp
   5              		.eabi_attribute 27, 1
   6              		.eabi_attribute 28, 1
   7              		.eabi_attribute 20, 1
   8              		.eabi_attribute 21, 1
   9              		.eabi_attribute 23, 3
  10              		.eabi_attribute 24, 1
  11              		.eabi_attribute 25, 1
  12              		.eabi_attribute 26, 1
  13              		.eabi_attribute 30, 1
  14              		.eabi_attribute 34, 1
  15              		.eabi_attribute 18, 4
  16              		.file	"ux_utility_memory_allocate.c"
  17              		.text
  18              	.Ltext0:
  19              		.cfi_sections	.debug_frame
  20              		.file 1 "Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c"
  21              		.section	.text._ux_utility_memory_allocate,"ax",%progbits
  22              		.align	1
  23              		.global	_ux_utility_memory_allocate
  24              		.syntax unified
  25              		.thumb
  26              		.thumb_func
  28              	_ux_utility_memory_allocate:
  29              	.LVL0:
  30              	.LFB3:
   1:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /**************************************************************************/
   2:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */
   3:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*       Copyright (c) Microsoft Corporation. All rights reserved.        */
   4:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */
   5:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*       This software is licensed under the Microsoft Software License   */
   6:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*       Terms for Microsoft Azure RTOS. Full text of the license can be  */
   7:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*       found in the LICENSE file at https://aka.ms/AzureRTOS_EULA       */
   8:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*       and in the root directory of this software.                      */
   9:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */
  10:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /**************************************************************************/
  11:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
  12:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
  13:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /**************************************************************************/
  14:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /**************************************************************************/
  15:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /**                                                                       */ 
  16:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /** USBX Component                                                        */ 
  17:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /**                                                                       */
  18:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /**   Utility                                                             */
  19:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /**                                                                       */
  20:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /**************************************************************************/
  21:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /**************************************************************************/
  22:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
  23:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
  24:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /* Include necessary system files.  */
  25:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
  26:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** #define UX_SOURCE_CODE
  27:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
  28:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** #include "ux_api.h"
ARM GAS  C:\Users\sapph\AppData\Local\Temp\ccbElAji.s 			page 2


  29:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
  30:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
  31:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /**************************************************************************/ 
  32:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  33:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*  FUNCTION                                               RELEASE        */ 
  34:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  35:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*    _ux_utility_memory_allocate                         PORTABLE C      */ 
  36:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                           6.1.11       */
  37:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*  AUTHOR                                                                */
  38:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */
  39:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*    Chaoqiong Xiao, Microsoft Corporation                               */
  40:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */
  41:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*  DESCRIPTION                                                           */
  42:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  43:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*    This function allocates a block of memory for the specified size    */ 
  44:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*    and alignment.                                                      */
  45:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  46:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*  INPUT                                                                 */ 
  47:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  48:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*    memory_alignment                      Memory alignment required     */ 
  49:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*    memory_cache_flag                     Memory pool source            */ 
  50:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*    memory_size_requested                 Number of bytes required      */ 
  51:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  52:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*  OUTPUT                                                                */ 
  53:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  54:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*    Pointer to block of memory                                          */ 
  55:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  56:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*  CALLS                                                                 */ 
  57:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  58:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*    _ux_utility_memory_free_block_best_get Get best fit block of memory */ 
  59:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*    _ux_utility_memory_set                 Set block of memory          */ 
  60:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  61:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*  CALLED BY                                                             */ 
  62:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  63:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*    USBX Components                                                     */ 
  64:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  65:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*  RELEASE HISTORY                                                       */ 
  66:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  67:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*    DATE              NAME                      DESCRIPTION             */ 
  68:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */ 
  69:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*  05-19-2020     Chaoqiong Xiao           Initial Version 6.0           */
  70:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*  09-30-2020     Chaoqiong Xiao           Modified comment(s),          */
  71:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                            verified memset and memcpy  */
  72:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                            cases,                      */
  73:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                            resulting in version 6.1    */
  74:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*  01-31-2022     Chaoqiong Xiao           Modified comment(s),          */
  75:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                            added standalone support,   */
  76:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                            resulting in version 6.1.10 */
  77:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*  04-25-2022     Chaoqiong Xiao           Modified comment(s),          */
  78:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                            internal clean up,          */
  79:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                            resulting in version 6.1.11 */
  80:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /*                                                                        */
  81:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** /**************************************************************************/
  82:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** VOID  *_ux_utility_memory_allocate(ULONG memory_alignment, ULONG memory_cache_flag,
  83:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                    ULONG memory_size_requested)
  84:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** {
  31              		.loc 1 84 1 view -0
ARM GAS  C:\Users\sapph\AppData\Local\Temp\ccbElAji.s 			page 3


  32              		.cfi_startproc
  33              		@ args = 0, pretend = 0, frame = 0
  34              		@ frame_needed = 0, uses_anonymous_args = 0
  35              		.loc 1 84 1 is_stmt 0 view .LVU1
  36 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
  37              		.cfi_def_cfa_offset 24
  38              		.cfi_offset 4, -24
  39              		.cfi_offset 5, -20
  40              		.cfi_offset 6, -16
  41              		.cfi_offset 7, -12
  42              		.cfi_offset 8, -8
  43              		.cfi_offset 14, -4
  44 0004 0F46     		mov	r7, r1
  85:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
  86:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** UX_MEMORY_BLOCK     *memory_block;
  45              		.loc 1 86 1 is_stmt 1 view .LVU2
  87:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** UX_MEMORY_BLOCK     *new_memory_block;
  46              		.loc 1 87 1 view .LVU3
  88:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** UX_MEMORY_BLOCK     *leftover_memory_block;
  47              		.loc 1 88 1 view .LVU4
  89:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** ULONG               memory_for_alignment;
  48              		.loc 1 89 1 view .LVU5
  90:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** ULONG               memory_removed_from_pool;
  49              		.loc 1 90 1 view .LVU6
  91:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** ULONG               leftover;
  50              		.loc 1 91 1 view .LVU7
  92:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** UCHAR               *memory_buffer;
  51              		.loc 1 92 1 view .LVU8
  93:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** ALIGN_TYPE          int_memory_buffer;
  52              		.loc 1 93 1 view .LVU9
  94:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
  95:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
  96:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Get the mutex as this is a critical section.  */
  97:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     _ux_system_mutex_on(&_ux_system -> ux_system_mutex);
  53              		.loc 1 97 5 view .LVU10
  54              		.loc 1 97 5 view .LVU11
  55              		.loc 1 97 5 view .LVU12
  98:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
  99:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** #ifdef UX_ENFORCE_SAFE_ALIGNMENT
 100:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 101:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Check if safe alignment requested, in this case switch to UX_NO_ALIGN.  */
 102:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     if (memory_alignment == UX_SAFE_ALIGN)
 103:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     {
 104:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 105:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* We will use the memory_size_requested for the alignment. 
 106:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****            But we check to see if we have a minimum or maximum alignment.  */
 107:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         if (memory_size_requested < UX_ALIGN_MIN)
 108:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         
 109:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             /* No need to bother about alignment for small packets sizes.  */
 110:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             memory_alignment = UX_NO_ALIGN;
 111:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         
 112:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         else
 113:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         {
 114:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     
 115:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             /* Check if we are over the maximum.  */
 116:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             if (memory_size_requested > UX_MAX_SCATTER_GATHER_ALIGNMENT)
 117:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             
ARM GAS  C:\Users\sapph\AppData\Local\Temp\ccbElAji.s 			page 4


 118:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                 /* We are over the max alignment required. Use the maximum instead.  */
 119:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                 memory_alignment = UX_MAX_SCATTER_GATHER_ALIGNMENT - 1;
 120:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 121:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             else
 122:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             {
 123:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                 /* We are not over the maximum, so approximate the alignment according to the size 
 124:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                    Check range for alignment on 4096 bytes.  */
 125:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                 if (memory_size_requested >= UX_ALIGN_2048 + 1)
 126:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     memory_alignment = UX_ALIGN_4096;
 127:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 128:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                 else
 129:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                 {
 130:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 131:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                        /* Check range for alignment on 2048 bytes.  */
 132:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     if (memory_size_requested >= UX_ALIGN_1024 + 1)
 133:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                         memory_alignment = UX_ALIGN_2048;
 134:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             
 135:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     else
 136:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     {
 137:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 138:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                            /* Check range for alignment on 1024 bytes.  */
 139:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                         if (memory_size_requested >= UX_ALIGN_512 + 1)
 140:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                             memory_alignment = UX_ALIGN_1024;
 141:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             
 142:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                         else
 143:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                         {
 144:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 145:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                /* Check range for alignment on 512 bytes.  */
 146:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                             if (memory_size_requested >= UX_ALIGN_256 + 1)
 147:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                 memory_alignment = UX_ALIGN_512;
 148:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                 
 149:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                             else
 150:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                             {
 151:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 152:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                    /* Check range for alignment on 256 bytes.  */
 153:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                 if (memory_size_requested >= UX_ALIGN_128 + 1)
 154:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                     memory_alignment = UX_ALIGN_256;
 155:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     
 156:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                 else
 157:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                 {
 158:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                             
 159:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                        /* Check range for alignment on 128 bytes.  */
 160:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                     if (memory_size_requested >= UX_ALIGN_64 + 1)
 161:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                         memory_alignment = UX_ALIGN_128;
 162:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     
 163:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                     else
 164:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                     {
 165:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                             
 166:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                            /* Check range for alignment on 128 bytes.  */
 167:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                         if (memory_size_requested >= UX_ALIGN_64 + 1)
 168:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                             memory_alignment = UX_ALIGN_128;
 169:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     
 170:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                         else
 171:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                         {
 172:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                 
 173:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                                /* Check range for alignment on 64 bytes.  */
 174:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                             if (memory_size_requested >= UX_ALIGN_32 + 1)
ARM GAS  C:\Users\sapph\AppData\Local\Temp\ccbElAji.s 			page 5


 175:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                                 memory_alignment = UX_ALIGN_64;
 176:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     
 177:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                             else
 178:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                             {
 179:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                     
 180:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                                    /* Check range for alignment on 32 bytes.  */
 181:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                                 if (memory_size_requested >= UX_ALIGN_16 + 1)
 182:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                                     memory_alignment = UX_ALIGN_32;
 183:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     
 184:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                                 else
 185:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                                     memory_alignment = UX_ALIGN_MIN;
 186:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                 
 187:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 188:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                             }                        
 189:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                         }                        
 190:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                     }                        
 191:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                 }                        
 192:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                             }                        
 193:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                         }                        
 194:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                     }                        
 195:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                 }
 196:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             }                
 197:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         }        
 198:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 199:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 200:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** #else
 201:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 202:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Check if safe alignment requested, in this case switch to UX_NO_ALIGN.  */
 203:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     if (memory_alignment == UX_SAFE_ALIGN)
  56              		.loc 1 203 5 view .LVU13
  57              		.loc 1 203 8 is_stmt 0 view .LVU14
  58 0006 B0F1FF3F 		cmp	r0, #-1
  59 000a 04D0     		beq	.L10
  60 000c 0646     		mov	r6, r0
 204:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_alignment = UX_NO_ALIGN;
 205:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     
 206:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** #endif
 207:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 208:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Ensure the alignment meats the minimum.  */
 209:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     if (memory_alignment < UX_ALIGN_MIN)
  61              		.loc 1 209 5 is_stmt 1 view .LVU15
  62              		.loc 1 209 8 is_stmt 0 view .LVU16
  63 000e 0E28     		cmp	r0, #14
  64 0010 02D8     		bhi	.L2
 210:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_alignment =  UX_ALIGN_MIN;
  65              		.loc 1 210 26 view .LVU17
  66 0012 0F26     		movs	r6, #15
  67 0014 00E0     		b	.L2
  68              	.L10:
  69 0016 0F26     		movs	r6, #15
  70              	.L2:
  71              	.LVL1:
 211:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 212:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Adjust the memory alignment since our macros are one minus the desired alignment.
 213:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        Also determine the amount of extra memory we need for the alignment, which is one
 214:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        minus the actual alignment.  */
 215:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     memory_for_alignment =  memory_alignment;
ARM GAS  C:\Users\sapph\AppData\Local\Temp\ccbElAji.s 			page 6


  72              		.loc 1 215 5 is_stmt 1 view .LVU18
 216:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     memory_alignment++;
  73              		.loc 1 216 5 view .LVU19
  74              		.loc 1 216 21 is_stmt 0 view .LVU20
  75 0018 06F10108 		add	r8, r6, #1
  76              	.LVL2:
 217:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 218:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* We need to make sure that the next memory block buffer is 16-byte aligned too. We
 219:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        do this by first adjusting the requested memory to be 16-byte aligned. One problem
 220:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        now is that the memory block might not be a size that is a multiple of 16, so we need
 221:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        to add the amount of memory required such that the memory buffer after the block has 
 222:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        the correct alignment. For example, if the memory block has a size of 24, then we need
 223:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        to make sure it is placed on an 8-byte alignment that is after a 16-byte alignment so
 224:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        that the memory right after the memory block is 16-byte aligned (8 + 24 = 32).  */
 225:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     memory_size_requested =  (memory_size_requested +    UX_ALIGN_MIN) & (~(ULONG)UX_ALIGN_MIN);
  77              		.loc 1 225 5 is_stmt 1 view .LVU21
  78              		.loc 1 225 53 is_stmt 0 view .LVU22
  79 001c 02F10F05 		add	r5, r2, #15
  80              		.loc 1 225 27 view .LVU23
  81 0020 25F00F05 		bic	r5, r5, #15
  82              	.LVL3:
 226:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     memory_size_requested += (((ULONG)sizeof(UX_MEMORY_BLOCK) + UX_ALIGN_MIN) & (~(ULONG)UX_ALIGN_M
  83              		.loc 1 226 5 is_stmt 1 view .LVU24
 227:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 228:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Try to find the best block for this memory by requesting the maximum amount of
 229:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        memory we'll need which is calculated as follows: the amount memory requested by
 230:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        the caller plus the maximum amount of memory wasted due to alignment plus 2 memory
 231:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        blocks structs - one for the new memory block we'll create for the user block and one
 232:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        that we might create if there is extra memory after doing the alignment.  */
 233:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     memory_block =  _ux_utility_memory_free_block_best_get(memory_cache_flag, memory_size_requested
  84              		.loc 1 233 5 view .LVU25
  85              		.loc 1 233 101 is_stmt 0 view .LVU26
  86 0024 7119     		adds	r1, r6, r5
  87              	.LVL4:
  88              		.loc 1 233 21 view .LVU27
  89 0026 1031     		adds	r1, r1, #16
  90 0028 3846     		mov	r0, r7
  91 002a FFF7FEFF 		bl	_ux_utility_memory_free_block_best_get
  92              	.LVL5:
 234:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 235:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* If the block returned is NULL, there is no free memory in the pool
 236:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        for that size. */
 237:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     if (memory_block == UX_NULL)
  93              		.loc 1 237 5 is_stmt 1 view .LVU28
  94              		.loc 1 237 8 is_stmt 0 view .LVU29
  95 002e 0446     		mov	r4, r0
  96 0030 40B3     		cbz	r0, .L13
 238:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     {
 239:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 240:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Release the protection.  */
 241:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         _ux_system_mutex_off(&_ux_system -> ux_system_mutex);
 242:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 243:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* If trace is enabled, insert this event into the trace buffer.  */
 244:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         UX_TRACE_IN_LINE_INSERT(UX_TRACE_ERROR, UX_MEMORY_INSUFFICIENT, memory_size_requested, 0, 0
 245:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 246:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Error trap. */
 247:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         _ux_system_error_handler(UX_SYSTEM_LEVEL_THREAD, UX_SYSTEM_CONTEXT_UTILITY, UX_MEMORY_INSUF
ARM GAS  C:\Users\sapph\AppData\Local\Temp\ccbElAji.s 			page 7


 248:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 249:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Return NULL to indicate no block was found.  */
 250:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         return(UX_NULL);
 251:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 252:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 253:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Get the memory buffer for this block.  */
 254:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     int_memory_buffer = (ALIGN_TYPE) ((UCHAR *) memory_block + sizeof(UX_MEMORY_BLOCK));
  97              		.loc 1 254 5 is_stmt 1 view .LVU30
  98              		.loc 1 254 62 is_stmt 0 view .LVU31
  99 0032 00F11003 		add	r3, r0, #16
 100              	.LVL6:
 255:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 256:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Are we already aligned?  */
 257:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     if ((int_memory_buffer & (memory_alignment - 1)) == 0)
 101              		.loc 1 257 5 is_stmt 1 view .LVU32
 102              		.loc 1 257 8 is_stmt 0 view .LVU33
 103 0036 1E42     		tst	r6, r3
 104 0038 2AD1     		bne	.L5
 258:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     {
 259:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 260:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Setup the new memory block.  */
 261:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block =  (UX_MEMORY_BLOCK *) ((UCHAR *) memory_block + sizeof(UX_MEMORY_BLOCK) +
 105              		.loc 1 261 9 is_stmt 1 view .LVU34
 106              		.loc 1 261 99 is_stmt 0 view .LVU35
 107 003a 05F11006 		add	r6, r5, #16
 108              	.LVL7:
 109              		.loc 1 261 26 view .LVU36
 110 003e 8219     		adds	r2, r0, r6
 111              	.LVL8:
 262:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_next =  memory_block -> ux_memory_block_next;
 112              		.loc 1 262 9 is_stmt 1 view .LVU37
 113              		.loc 1 262 66 is_stmt 0 view .LVU38
 114 0040 8368     		ldr	r3, [r0, #8]
 115              	.LVL9:
 116              		.loc 1 262 50 view .LVU39
 117 0042 9360     		str	r3, [r2, #8]
 263:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_previous =  memory_block;
 118              		.loc 1 263 9 is_stmt 1 view .LVU40
 119              		.loc 1 263 54 is_stmt 0 view .LVU41
 120 0044 D060     		str	r0, [r2, #12]
 264:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_size =  memory_block -> ux_memory_block_size - memory_s
 121              		.loc 1 264 9 is_stmt 1 view .LVU42
 122              		.loc 1 264 66 is_stmt 0 view .LVU43
 123 0046 0368     		ldr	r3, [r0]
 124              		.loc 1 264 90 view .LVU44
 125 0048 5B1B     		subs	r3, r3, r5
 126              		.loc 1 264 114 view .LVU45
 127 004a 103B     		subs	r3, r3, #16
 128              		.loc 1 264 50 view .LVU46
 129 004c 8351     		str	r3, [r0, r6]
 265:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_status =  UX_MEMORY_UNUSED;
 130              		.loc 1 265 9 is_stmt 1 view .LVU47
 131              		.loc 1 265 52 is_stmt 0 view .LVU48
 132 004e 0023     		movs	r3, #0
 133 0050 5360     		str	r3, [r2, #4]
 266:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 267:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Update the current memory block.  */
ARM GAS  C:\Users\sapph\AppData\Local\Temp\ccbElAji.s 			page 8


 268:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_block -> ux_memory_block_size =  memory_size_requested;
 134              		.loc 1 268 9 is_stmt 1 view .LVU49
 135              		.loc 1 268 46 is_stmt 0 view .LVU50
 136 0052 0560     		str	r5, [r0]
 269:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_block -> ux_memory_block_next =  new_memory_block;
 137              		.loc 1 269 9 is_stmt 1 view .LVU51
 138              		.loc 1 269 46 is_stmt 0 view .LVU52
 139 0054 8260     		str	r2, [r0, #8]
 270:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_block -> ux_memory_block_status =  UX_MEMORY_USED | memory_cache_flag;
 140              		.loc 1 270 9 is_stmt 1 view .LVU53
 141              		.loc 1 270 66 is_stmt 0 view .LVU54
 142 0056 47F00043 		orr	r3, r7, #-2147483648
 143              		.loc 1 270 48 view .LVU55
 144 005a 4360     		str	r3, [r0, #4]
 271:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 272:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Declare how much memory we removed from the pool.  */
 273:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_removed_from_pool =  memory_block -> ux_memory_block_size + (ULONG)sizeof(UX_MEMORY_
 145              		.loc 1 273 9 is_stmt 1 view .LVU56
 146              	.LVL10:
 147              	.L6:
 274:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 275:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     else
 276:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     {
 277:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 278:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Align the buffer. The first thing we do is increment by the size of a
 279:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****            memory block because we have to make sure we have enough memory for at
 280:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****            least that.  */
 281:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         int_memory_buffer +=  (ULONG)sizeof(UX_MEMORY_BLOCK);
 282:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         int_memory_buffer +=  memory_alignment - 1;
 283:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         int_memory_buffer &=  ~(((ALIGN_TYPE) memory_alignment) - 1);
 284:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 285:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Setup the new memory block. Note that its size is updated again later.  */
 286:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block =  (UX_MEMORY_BLOCK *) (int_memory_buffer - (ULONG)sizeof(UX_MEMORY_BLOCK)
 287:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_previous =  memory_block;
 288:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_next =  memory_block -> ux_memory_block_next;
 289:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_size =  memory_block -> ux_memory_block_size;
 290:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_status =  UX_MEMORY_USED | memory_cache_flag;
 291:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 292:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Update the current memory block.  */
 293:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         int_memory_buffer =  (ALIGN_TYPE) ((UCHAR *) memory_block + sizeof(UX_MEMORY_BLOCK));
 294:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_block -> ux_memory_block_next =  new_memory_block;
 295:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_block -> ux_memory_block_size =  (ULONG) ((ALIGN_TYPE) new_memory_block - int_memory
 296:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 297:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Update the new memory block's size.  */
 298:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_size -=  (memory_block -> ux_memory_block_size + (ULONG
 299:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 300:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Calculate how much memory is leftover in the new memory block after doing
 301:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****            the alignment.  */
 302:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         leftover =  new_memory_block -> ux_memory_block_size - memory_size_requested;
 303:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 304:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Can we fit another block after the new block? */
 305:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         if (leftover > sizeof(UX_MEMORY_BLOCK))
 306:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         {
 307:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 308:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             /* Setup the leftover memory block.  */
 309:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block = (UX_MEMORY_BLOCK *) (((ALIGN_TYPE) new_memory_block + sizeof(UX
 310:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_next =  new_memory_block -> ux_memory_block_ne
ARM GAS  C:\Users\sapph\AppData\Local\Temp\ccbElAji.s 			page 9


 311:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_previous =  new_memory_block;
 312:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_size =  leftover - (ULONG)sizeof(UX_MEMORY_BLO
 313:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_status =  UX_MEMORY_UNUSED;
 314:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 315:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             new_memory_block -> ux_memory_block_next =  leftover_memory_block;
 316:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             new_memory_block -> ux_memory_block_size -=  leftover;
 317:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         }
 318:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 319:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* Declare how much memory we removed from the pool.  */
 320:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_removed_from_pool =  new_memory_block -> ux_memory_block_size + (ULONG)sizeof(UX_MEM
 321:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 322:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* The new memory block is the one we give to the user.  */
 323:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_block =  new_memory_block;
 324:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 325:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 326:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* The memory to be returned is after the block header.  */
 327:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     memory_buffer =  ((UCHAR *) memory_block) + sizeof(UX_MEMORY_BLOCK);
 148              		.loc 1 327 5 view .LVU57
 149              		.loc 1 327 19 is_stmt 0 view .LVU58
 150 005c 1034     		adds	r4, r4, #16
 151              	.LVL11:
 328:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 329:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Clear the memory block.  */
 330:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     _ux_utility_memory_set(memory_buffer, 0, memory_size_requested); /* Use case of memset is verif
 152              		.loc 1 330 5 is_stmt 1 view .LVU59
 153 005e 2A46     		mov	r2, r5
 154 0060 0021     		movs	r1, #0
 155 0062 2046     		mov	r0, r4
 156 0064 FFF7FEFF 		bl	_ux_utility_memory_set
 157              	.LVL12:
 331:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 332:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Update the memory free in the pool.  */
 333:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     if (_ux_system -> ux_system_cache_safe_memory_pool_start == _ux_system -> ux_system_regular_mem
 158              		.loc 1 333 5 view .LVU60
 159              		.loc 1 333 20 is_stmt 0 view .LVU61
 160 0068 2A4B     		ldr	r3, .L16
 161 006a 1B68     		ldr	r3, [r3]
 162 006c D968     		ldr	r1, [r3, #12]
 163              		.loc 1 333 76 view .LVU62
 164 006e 1A68     		ldr	r2, [r3]
 165              		.loc 1 333 8 view .LVU63
 166 0070 9142     		cmp	r1, r2
 167 0072 46D0     		beq	.L14
 334:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     {
 335:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 336:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         /* There is only one memory pool.  */
 337:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         _ux_system -> ux_system_regular_memory_pool_free -= memory_removed_from_pool;
 338:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 339:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     else
 340:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     {
 341:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 342:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        switch (memory_cache_flag)
 168              		.loc 1 342 8 is_stmt 1 view .LVU64
 169 0074 012F     		cmp	r7, #1
 170 0076 48D0     		beq	.L15
 343:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        {
 344:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
ARM GAS  C:\Users\sapph\AppData\Local\Temp\ccbElAji.s 			page 10


 345:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             case UX_CACHE_SAFE_MEMORY:
 346:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                 /* Update the amount of free memory in the cache safe memory pool.  */
 347:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                 _ux_system -> ux_system_cache_safe_memory_pool_free -= memory_removed_from_pool;
 348:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 349:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             break;
 350:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 351:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             default:
 352:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                 /* Update the amount of free memory in the regular memory pool.  */
 353:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                 _ux_system -> ux_system_regular_memory_pool_free -= memory_removed_from_pool;
 171              		.loc 1 353 17 view .LVU65
 172              		.loc 1 353 28 is_stmt 0 view .LVU66
 173 0078 9A68     		ldr	r2, [r3, #8]
 174              		.loc 1 353 66 view .LVU67
 175 007a 921B     		subs	r2, r2, r6
 176 007c 9A60     		str	r2, [r3, #8]
 354:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             break;
 177              		.loc 1 354 13 is_stmt 1 view .LVU68
 178              	.LVL13:
 179              	.L1:
 355:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 356:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         }
 357:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 358:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 359:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** #ifdef UX_ENABLE_MEMORY_STATISTICS
 360:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 361:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Update allocate count, total size.  */
 362:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     if (memory_cache_flag == UX_REGULAR_MEMORY)
 363:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     {
 364:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         _ux_system -> ux_system_regular_memory_pool_alloc_count ++;
 365:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         _ux_system -> ux_system_regular_memory_pool_alloc_total += memory_size_requested;
 366:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         if (_ux_system -> ux_system_regular_memory_pool_alloc_max_count < _ux_system -> ux_system_r
 367:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             _ux_system -> ux_system_regular_memory_pool_alloc_max_count = _ux_system -> ux_system_r
 368:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         if (_ux_system -> ux_system_regular_memory_pool_alloc_max_total < _ux_system -> ux_system_r
 369:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             _ux_system -> ux_system_regular_memory_pool_alloc_max_total = _ux_system -> ux_system_r
 370:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 371:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     else
 372:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     {
 373:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         _ux_system -> ux_system_cache_safe_memory_pool_alloc_count ++;
 374:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         _ux_system -> ux_system_cache_safe_memory_pool_alloc_total += memory_size_requested;
 375:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         if (_ux_system -> ux_system_cache_safe_memory_pool_alloc_max_count < _ux_system -> ux_syste
 376:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             _ux_system -> ux_system_cache_safe_memory_pool_alloc_max_count = _ux_system -> ux_syste
 377:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         if (_ux_system -> ux_system_cache_safe_memory_pool_alloc_max_total < _ux_system -> ux_syste
 378:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             _ux_system -> ux_system_cache_safe_memory_pool_alloc_max_total = _ux_system -> ux_syste
 379:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 380:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 381:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Log max usage of regular memory pool.  */
 382:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     memory_removed_from_pool = (ALIGN_TYPE)_ux_system -> ux_system_regular_memory_pool_start -
 383:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                (ALIGN_TYPE)_ux_system -> ux_system_regular_memory_pool_base;
 384:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     if (memory_removed_from_pool > _ux_system -> ux_system_regular_memory_pool_max_start_offset)
 385:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         _ux_system -> ux_system_regular_memory_pool_max_start_offset = memory_removed_from_pool;
 386:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     if (_ux_system -> ux_system_regular_memory_pool_min_free > _ux_system -> ux_system_regular_memo
 387:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         _ux_system -> ux_system_regular_memory_pool_min_free = _ux_system -> ux_system_regular_memo
 388:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 389:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Log max usage of cache safe memory pool.  */
 390:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     memory_removed_from_pool = (ALIGN_TYPE)_ux_system -> ux_system_cache_safe_memory_pool_start -
 391:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****                                (ALIGN_TYPE)_ux_system -> ux_system_cache_safe_memory_pool_base;
 392:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     if (memory_removed_from_pool > _ux_system -> ux_system_cache_safe_memory_pool_max_start_offset)
ARM GAS  C:\Users\sapph\AppData\Local\Temp\ccbElAji.s 			page 11


 393:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         _ux_system -> ux_system_cache_safe_memory_pool_max_start_offset = memory_removed_from_pool;
 394:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     if (_ux_system -> ux_system_cache_safe_memory_pool_min_free > _ux_system -> ux_system_cache_saf
 395:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         _ux_system -> ux_system_cache_safe_memory_pool_min_free = _ux_system -> ux_system_cache_saf
 396:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 397:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** #endif
 398:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 399:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* Release the protection.  */
 400:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     _ux_system_mutex_off(&_ux_system -> ux_system_mutex);
 401:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 402:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     /* The memory block pointer contains a memory area properly
 403:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****        aligned.  */
 404:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     return(memory_buffer);
 405:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** }                                
 180              		.loc 1 405 1 is_stmt 0 view .LVU69
 181 007e 2046     		mov	r0, r4
 182 0080 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 183              	.LVL14:
 184              	.L13:
 241:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 185              		.loc 1 241 9 is_stmt 1 view .LVU70
 241:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 186              		.loc 1 241 9 view .LVU71
 241:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 187              		.loc 1 241 9 view .LVU72
 247:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 188              		.loc 1 247 9 view .LVU73
 189 0084 1222     		movs	r2, #18
 190 0086 0821     		movs	r1, #8
 191 0088 0220     		movs	r0, #2
 192              	.LVL15:
 247:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 193              		.loc 1 247 9 is_stmt 0 view .LVU74
 194 008a FFF7FEFF 		bl	_ux_system_error_handler
 195              	.LVL16:
 250:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 196              		.loc 1 250 9 is_stmt 1 view .LVU75
 250:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 197              		.loc 1 250 15 is_stmt 0 view .LVU76
 198 008e F6E7     		b	.L1
 199              	.LVL17:
 200              	.L5:
 281:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         int_memory_buffer +=  memory_alignment - 1;
 201              		.loc 1 281 9 is_stmt 1 view .LVU77
 281:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         int_memory_buffer +=  memory_alignment - 1;
 202              		.loc 1 281 27 is_stmt 0 view .LVU78
 203 0090 03F11002 		add	r2, r3, #16
 204              	.LVL18:
 282:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         int_memory_buffer &=  ~(((ALIGN_TYPE) memory_alignment) - 1);
 205              		.loc 1 282 9 is_stmt 1 view .LVU79
 282:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         int_memory_buffer &=  ~(((ALIGN_TYPE) memory_alignment) - 1);
 206              		.loc 1 282 27 is_stmt 0 view .LVU80
 207 0094 4244     		add	r2, r2, r8
 208              	.LVL19:
 282:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         int_memory_buffer &=  ~(((ALIGN_TYPE) memory_alignment) - 1);
 209              		.loc 1 282 27 view .LVU81
 210 0096 013A     		subs	r2, r2, #1
 211              	.LVL20:
ARM GAS  C:\Users\sapph\AppData\Local\Temp\ccbElAji.s 			page 12


 283:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 212              		.loc 1 283 9 is_stmt 1 view .LVU82
 283:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 213              		.loc 1 283 27 is_stmt 0 view .LVU83
 214 0098 22EA0602 		bic	r2, r2, r6
 215              	.LVL21:
 286:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_previous =  memory_block;
 216              		.loc 1 286 9 is_stmt 1 view .LVU84
 286:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_previous =  memory_block;
 217              		.loc 1 286 68 is_stmt 0 view .LVU85
 218 009c A2F11001 		sub	r1, r2, #16
 219              	.LVL22:
 287:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_next =  memory_block -> ux_memory_block_next;
 220              		.loc 1 287 9 is_stmt 1 view .LVU86
 287:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_next =  memory_block -> ux_memory_block_next;
 221              		.loc 1 287 54 is_stmt 0 view .LVU87
 222 00a0 C860     		str	r0, [r1, #12]
 288:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_size =  memory_block -> ux_memory_block_size;
 223              		.loc 1 288 9 is_stmt 1 view .LVU88
 288:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_size =  memory_block -> ux_memory_block_size;
 224              		.loc 1 288 66 is_stmt 0 view .LVU89
 225 00a2 8068     		ldr	r0, [r0, #8]
 226              	.LVL23:
 288:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_size =  memory_block -> ux_memory_block_size;
 227              		.loc 1 288 50 view .LVU90
 228 00a4 8860     		str	r0, [r1, #8]
 289:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_status =  UX_MEMORY_USED | memory_cache_flag;
 229              		.loc 1 289 9 is_stmt 1 view .LVU91
 289:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_status =  UX_MEMORY_USED | memory_cache_flag;
 230              		.loc 1 289 66 is_stmt 0 view .LVU92
 231 00a6 2068     		ldr	r0, [r4]
 289:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         new_memory_block -> ux_memory_block_status =  UX_MEMORY_USED | memory_cache_flag;
 232              		.loc 1 289 50 view .LVU93
 233 00a8 42F8100C 		str	r0, [r2, #-16]
 290:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 234              		.loc 1 290 9 is_stmt 1 view .LVU94
 290:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 235              		.loc 1 290 70 is_stmt 0 view .LVU95
 236 00ac 47F00040 		orr	r0, r7, #-2147483648
 290:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 237              		.loc 1 290 52 view .LVU96
 238 00b0 4860     		str	r0, [r1, #4]
 293:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_block -> ux_memory_block_next =  new_memory_block;
 239              		.loc 1 293 9 is_stmt 1 view .LVU97
 240              	.LVL24:
 294:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_block -> ux_memory_block_size =  (ULONG) ((ALIGN_TYPE) new_memory_block - int_memory
 241              		.loc 1 294 9 view .LVU98
 294:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         memory_block -> ux_memory_block_size =  (ULONG) ((ALIGN_TYPE) new_memory_block - int_memory
 242              		.loc 1 294 46 is_stmt 0 view .LVU99
 243 00b2 A160     		str	r1, [r4, #8]
 295:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 244              		.loc 1 295 9 is_stmt 1 view .LVU100
 295:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 245              		.loc 1 295 49 is_stmt 0 view .LVU101
 246 00b4 C81A     		subs	r0, r1, r3
 295:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 247              		.loc 1 295 46 view .LVU102
ARM GAS  C:\Users\sapph\AppData\Local\Temp\ccbElAji.s 			page 13


 248 00b6 2060     		str	r0, [r4]
 298:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 249              		.loc 1 298 9 is_stmt 1 view .LVU103
 298:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 250              		.loc 1 298 26 is_stmt 0 view .LVU104
 251 00b8 52F8100C 		ldr	r0, [r2, #-16]
 298:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 252              		.loc 1 298 50 view .LVU105
 253 00bc 5B1A     		subs	r3, r3, r1
 254              	.LVL25:
 298:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 255              		.loc 1 298 50 view .LVU106
 256 00be 0344     		add	r3, r3, r0
 257 00c0 103B     		subs	r3, r3, #16
 258 00c2 42F8103C 		str	r3, [r2, #-16]
 302:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 259              		.loc 1 302 9 is_stmt 1 view .LVU107
 302:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 260              		.loc 1 302 18 is_stmt 0 view .LVU108
 261 00c6 581B     		subs	r0, r3, r5
 262              	.LVL26:
 305:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         {
 263              		.loc 1 305 9 is_stmt 1 view .LVU109
 305:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         {
 264              		.loc 1 305 12 is_stmt 0 view .LVU110
 265 00c8 1028     		cmp	r0, #16
 266 00ca 15D9     		bls	.L7
 309:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_next =  new_memory_block -> ux_memory_block_ne
 267              		.loc 1 309 13 is_stmt 1 view .LVU111
 309:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_next =  new_memory_block -> ux_memory_block_ne
 268              		.loc 1 309 115 is_stmt 0 view .LVU112
 269 00cc 01EB050C 		add	ip, r1, r5
 309:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_next =  new_memory_block -> ux_memory_block_ne
 270              		.loc 1 309 140 view .LVU113
 271 00d0 0CF11004 		add	r4, ip, #16
 272              	.LVL27:
 310:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_previous =  new_memory_block;
 273              		.loc 1 310 13 is_stmt 1 view .LVU114
 310:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_previous =  new_memory_block;
 274              		.loc 1 310 79 is_stmt 0 view .LVU115
 275 00d4 8E68     		ldr	r6, [r1, #8]
 276              	.LVL28:
 310:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_previous =  new_memory_block;
 277              		.loc 1 310 59 view .LVU116
 278 00d6 CCF81860 		str	r6, [ip, #24]
 311:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_size =  leftover - (ULONG)sizeof(UX_MEMORY_BLO
 279              		.loc 1 311 13 is_stmt 1 view .LVU117
 311:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_size =  leftover - (ULONG)sizeof(UX_MEMORY_BLO
 280              		.loc 1 311 63 is_stmt 0 view .LVU118
 281 00da CCF81C10 		str	r1, [ip, #28]
 312:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_status =  UX_MEMORY_UNUSED;
 282              		.loc 1 312 13 is_stmt 1 view .LVU119
 312:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_status =  UX_MEMORY_UNUSED;
 283              		.loc 1 312 71 is_stmt 0 view .LVU120
 284 00de 1038     		subs	r0, r0, #16
 285              	.LVL29:
 312:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             leftover_memory_block -> ux_memory_block_status =  UX_MEMORY_UNUSED;
ARM GAS  C:\Users\sapph\AppData\Local\Temp\ccbElAji.s 			page 14


 286              		.loc 1 312 59 view .LVU121
 287 00e0 CCF81000 		str	r0, [ip, #16]
 313:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 288              		.loc 1 313 13 is_stmt 1 view .LVU122
 313:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 289              		.loc 1 313 61 is_stmt 0 view .LVU123
 290 00e4 0020     		movs	r0, #0
 291              	.LVL30:
 313:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 292              		.loc 1 313 61 view .LVU124
 293 00e6 CCF81400 		str	r0, [ip, #20]
 315:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             new_memory_block -> ux_memory_block_size -=  leftover;
 294              		.loc 1 315 13 is_stmt 1 view .LVU125
 315:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****             new_memory_block -> ux_memory_block_size -=  leftover;
 295              		.loc 1 315 54 is_stmt 0 view .LVU126
 296 00ea 8C60     		str	r4, [r1, #8]
 297              	.LVL31:
 316:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         }
 298              		.loc 1 316 13 is_stmt 1 view .LVU127
 316:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         }
 299              		.loc 1 316 30 is_stmt 0 view .LVU128
 300 00ec 52F8100C 		ldr	r0, [r2, #-16]
 316:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         }
 301              		.loc 1 316 54 view .LVU129
 302 00f0 EB1A     		subs	r3, r5, r3
 303              	.LVL32:
 316:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****         }
 304              		.loc 1 316 54 view .LVU130
 305 00f2 0344     		add	r3, r3, r0
 306 00f4 42F8103C 		str	r3, [r2, #-16]
 307              	.LVL33:
 308              	.L7:
 320:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 309              		.loc 1 320 9 is_stmt 1 view .LVU131
 320:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 310              		.loc 1 320 54 is_stmt 0 view .LVU132
 311 00f8 52F8106C 		ldr	r6, [r2, #-16]
 320:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 312              		.loc 1 320 34 view .LVU133
 313 00fc 1036     		adds	r6, r6, #16
 314              	.LVL34:
 323:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 315              		.loc 1 323 9 is_stmt 1 view .LVU134
 323:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 316              		.loc 1 323 22 is_stmt 0 view .LVU135
 317 00fe 0C46     		mov	r4, r1
 318 0100 ACE7     		b	.L6
 319              	.LVL35:
 320              	.L14:
 337:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 321              		.loc 1 337 9 is_stmt 1 view .LVU136
 337:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 322              		.loc 1 337 20 is_stmt 0 view .LVU137
 323 0102 9A68     		ldr	r2, [r3, #8]
 337:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c ****     }
 324              		.loc 1 337 58 view .LVU138
 325 0104 921B     		subs	r2, r2, r6
ARM GAS  C:\Users\sapph\AppData\Local\Temp\ccbElAji.s 			page 15


 326 0106 9A60     		str	r2, [r3, #8]
 327 0108 B9E7     		b	.L1
 328              	.L15:
 347:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 329              		.loc 1 347 17 is_stmt 1 view .LVU139
 347:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 330              		.loc 1 347 28 is_stmt 0 view .LVU140
 331 010a 5A69     		ldr	r2, [r3, #20]
 347:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 332              		.loc 1 347 69 view .LVU141
 333 010c 921B     		subs	r2, r2, r6
 334 010e 5A61     		str	r2, [r3, #20]
 349:Middlewares/ST/usbx/common/core/src/ux_utility_memory_allocate.c **** 
 335              		.loc 1 349 13 is_stmt 1 view .LVU142
 336 0110 B5E7     		b	.L1
 337              	.L17:
 338 0112 00BF     		.align	2
 339              	.L16:
 340 0114 00000000 		.word	_ux_system
 341              		.cfi_endproc
 342              	.LFE3:
 344              		.text
 345              	.Letext0:
 346              		.file 2 "Middlewares/ST/usbx/ports/generic/inc/ux_port.h"
 347              		.file 3 "Middlewares/ST/usbx/common/core/inc/ux_api.h"
 348              		.file 4 "Middlewares/ST/usbx/common/core/inc/ux_utility.h"
 349              		.file 5 "Middlewares/ST/usbx/common/core/inc/ux_system.h"
ARM GAS  C:\Users\sapph\AppData\Local\Temp\ccbElAji.s 			page 16


DEFINED SYMBOLS
                            *ABS*:00000000 ux_utility_memory_allocate.c
C:\Users\sapph\AppData\Local\Temp\ccbElAji.s:22     .text._ux_utility_memory_allocate:00000000 $t
C:\Users\sapph\AppData\Local\Temp\ccbElAji.s:28     .text._ux_utility_memory_allocate:00000000 _ux_utility_memory_allocate
C:\Users\sapph\AppData\Local\Temp\ccbElAji.s:340    .text._ux_utility_memory_allocate:00000114 $d

UNDEFINED SYMBOLS
_ux_utility_memory_free_block_best_get
_ux_utility_memory_set
_ux_system_error_handler
_ux_system
